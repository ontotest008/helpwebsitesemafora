<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> 
<html> 

<!-- Mirrored from help.semafora-systems.com/updatable_materialization.htm by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Oct 2019 09:09:11 GMT -->
<head> 
   <title> Updatable Materialization </title> 
   <meta name="generator" content="Help & Manual"> 
   <meta name="keywords" content=""> 
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 

   <!-- This line forces IE8 into IE7 mode, safer until IE8 is better known -->
   <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

   <link type="text/css" href="default.css" rel="stylesheet"> 

<!-- non-scrolling headers for CHM and Webhelp--> 
<style type="text/css" media="screen"> 
<!-- 
   body { 
      margin:0; 
      padding:0; 
      overflow: auto; 
      background: #FFFFFF; 
   } 
   #idheader { 
      width:100%; 
      height:auto; 
      padding: 0; 
      margin: 0; 
      background: #FFFFFF; 
   } 

   /* Set the padding in the OUTER div for MSIE and CHM to prevent the 
      width bug and the horizontal scrollbar bug from activating. */ 

  #idcontent {    
      width: 100%; 
      padding: 0px !important; 
      padding: 10px 15px 5px 10px; 
   } 

/* Set the padding in the INNER div for all other browsers. */ 

  #innerdiv {    
      padding: 10px 5px 5px 10px !important;  
      padding: 0px; 
   } 

         /* These styles are for the header, the print link 
         and the navigation links. Change .topichead padding
         to 5px 5px 0px 5px if you use the Print Topic link.  */

    .topichead {
       padding: 5px;
    }
    
    .navlinks {
      font-size: 10pt;
    }
    .navlinks a {
      text-decoration: underline;
      color: black;
    }
    .navlinks a:visited {
      text-decoration: underline;
      color: grey;
    }
    .navlinks a:hover {
      text-decoration: underline;
      color: grey;
    }

    /* These styles are dynamically assigned with Javascript. 
    Since the media type is "screen", they do not apply for print */ 

   html.nonscroll { 
      overflow:hidden; 
   } 
   body.nonscroll {    
      overflow:hidden; 
      height:100%; 
   } 
   div.nonscroll { 
      overflow:auto; 
   } 
   --> 
   </style> 

 <style TYPE="text/css" media="print">
   <!--

     /* Hide navigation links and add space between header and
      text in the printed version. DON'T change this instance for
     adding the Print Topic link, you need the instance further up! */

     #idnav { display:none;	}
     .topichead { padding: 5px 5px 20px 5px; }
   -->
   </style>

<!-- NS-Header and page initialization -->
<script type="text/javascript"> 
<!--
function pageOffset(win)
{
    if(!win) win = window;
    var pos = {left:0,top:0};

    if(typeof win.pageXOffset != 'undefined')
    {
         // Mozilla/Netscape
         pos.left = win.pageXOffset;
         pos.top = win.pageYOffset;
    }
    else
    {
         var obj = (win.document.compatMode && win.document.compatMode == "CSS1Compat") ?
         win.document.documentElement : win.document.body || null;

         pos.left = obj.scrollLeft;
         pos.top = obj.scrollTop;
    }
    return pos;
}

   function doResize() { 
     var clheight, headheight;
     if (self.innerHeight) // all except Explorer 
     { clheight = self.innerHeight; } 
     else if (document.documentElement && document.documentElement.clientHeight) // Explorer 6 Strict Mode 
     { clheight = document.documentElement.clientHeight; } 
     else if (document.body) // other Explorers 
     { clheight = document.body.clientHeight; } 
     headheight = document.getElementById('idheader').clientHeight;
     if (clheight < headheight ) {clheight = headheight + 1;}
     document.getElementById('idcontent').style.height = clheight - document.getElementById('idheader').clientHeight +'px'; 
   } 

      function nsrInit() { 
     contentbody = document.getElementById('idcontent'); 
     if (contentbody) { 
       aTop = pageOffset.top; //document.getElementById('body').scrollTop; 
       contentbody.className = 'nonscroll'; 
       document.getElementsByTagName('body')[0].className = 'nonscroll'; 
       document.getElementsByTagName('html')[0].className = 'nonscroll'; 
       window.onresize = doResize; 
       doResize(); 
       if (contentbody.scrollTo) { contentbody.scrollTo(aTop,0); }
      } 
   } 
-->
   </script> 
<script type="text/javascript" src="helpman_topicinit.js"></script>
<!-- Redirect browser to frame page if page is not in the content frame. -->
<script type="text/javascript">
<!--
if (location.search.lastIndexOf("toc=0")<=0) {
  if (parent.frames.length==0) { parent.location.href="index0bcb.html?updatable_materialization.htm"; }
  else { parent.quicksync('a3.12.3'); }
}
//-->
</script>
<script type="text/javascript" src="highlight.js"></script></head> 

<body onload="highlight();">
<div id="hmpopupDiv" style="visibility:hidden; position:absolute; z-index:1000; "></div> 
<div id="idheader"> 
<table width="100%" border="0" cellspacing="0" cellpadding="0"; alink="black">
  
  <tr valign="middle">
    <td width="10px">&nbsp;</td>
    <td align="left"> <span style="font-size: 9pt"> 
     <a href="standard_materialization.html"><img src="previous.gif" border=0 alt="Previous topic"></a>&nbsp;  
      <a href="about_the_ontoprise_helpsystem.html"><img src="top.gif" border=0 alt="Top" style="padding-top:5px"></a>&nbsp;
     <a href="materialization_commands.html"><img src="next.gif" border=0 alt="Next topic"></a>
     <!--IF_TOPIC_BREADCRUMBS>OntoBroker 6.1 &gt; <a href="materialization.htm">Materialization</a> > <%TOPIC_HEADER_TEXT%--></span>
    </td>

     <!--td align="left"> <span style="font-size: 9pt"> 
     OntoBroker 6.1 &gt; <a href="materialization.htm">Materialization</a> 
     <a href="standard_materialization.htm">standard_materialization.htm</a>&nbsp;/&nbsp;
     updatable_materialization.htm
    </td-->

    <td align="right"> <span style="font-size: 9pt"> 
     
     &nbsp;<a href="javascript: print();"><img src="print.gif" border="0" style="padding-top:5px; padding-right:5px" alt="Print this Topic" title="Print this Topic"></a>
     
     </span>
    </td>
  </tr>
  
  <tr valign="middle" style="padding-top:10px">
    <td width="10px">&nbsp;</td>
    <td width="70%" align="left" style="border-bottom-width:2px; border-bottom-style:solid; border-bottom-color:#CECECE"><p class="p_Heading1"><span class="f_Heading1">Updatable Materialization</span></p>
</td>
    <td>&nbsp;</td>
  </tr>



</table>
</div> 

<div id="idcontent"><div id="innerdiv"> 
<p>Since version 5.3 OntoBroker supports updatable materialization. This means that when you add facts or rules after materialization, the materialized rules are re-evaluated together with the changed facts and rules. Technically this works by separating the base facts from the derived facts. </p>
<p>An example: If you have</p>
<p class="p_CodeExample"><span class="f_CodeExample">Tom:Cat.</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">RULE r1: ?X:"Predator" :- ?X:"Cat".</span></p>
<p>and you want to materialize rule "r1" then the materialized fact</p>
<p class="p_CodeExample"><span class="f_CodeExample">Tom:Predator.</span></p>
<p>will not be stored in the table "instanceOf", but instead it will be stored in the table "MAT_instanceOf".</p>
<p>This way OntoBroker can differentiate between base facts and materialized facts. Hence it is possible to revert and update the materialization. If you want the materialization to be updatable then you have to materialize via</p>
<p class="p_CodeExample"><span class="f_CodeExample">OntoBroker32.exe -m:update someRulesToBeMaterialized.obl</span></p>
<p>or via</p>
<p class="p_CodeExample"><span class="f_CodeExample">start-ontobroker.sh -m:update someRulesToBeMaterialized.obl</span></p>
<p>on Unix-based systems.</p>
<p>If you don't want to update the materialization you materialize the rules this way:</p>
<p class="p_CodeExample"><span class="f_CodeExample">OntoBroker32.exe -m:noupdate someRulesToBeMaterialized.obl</span></p>
<p>or</p>
<p class="p_CodeExample"><span class="f_CodeExample">OntoBroker32.exe -m someRulesToBeMaterialized.obl</span></p>
<p>In this case the materialized facts will be stored in the same tables as the base facts. So it is no longer possible to differentiate between the two types of facts.</p>
<p class="p_Heading2"><span class="f_Heading2">Materialization strategies</span></p>
<p>OntoBroker supports different materialization strategies. The "DRed" strategy works incrementally, the "RFS" strategy will update the knowledge base from scratch. Which strategy will deliver better performance depends on your rules and the change rate.</p>
<p class="p_Heading3"><span class="f_Heading3">DRed (Delete and Rederive)</span></p>
<p>This materialization strategy works incrementally. It creates a maintenance program which aims to re-evaluate only the rules which are affected by the changes. Note that there are cases where this approach does not very well. A typical example is when you have many connected rules and simple changes lead to a re-evaluation of most rules. We also experienced problems when the number of rules is too large.</p>
<p>NOTE: This materialization strategy will delay changes to the ontology until the materialization is triggered again. This means if you add a fact then queries and requests for this fact will only return the expected result after the materialization was executed again. </p>
<p>The DRed algorithm is a well-known materiallization algorithm (original paper: "Maintaining Views Incrementally" by Gupta, Mumick, Subrahamanian). We use a pure declarative version of the algorithm. Basically we rewrite rules like</p>
<p class="p_CodeExample"><span class="f_CodeExample">p(?X,?Z) :- q(?X,?Y) AND r(?Y,?Z).</span></p>
<p>to the maintenance rules</p>
<p class="p_CodeExample"><span class="f_CodeExample">p_plus(?X,?Z) :- q_insert(?X,?Y) AND r(?Y,?Z).</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">p_plus(?X,?Z) :- q(?X,?Y) AND r_insert(?Y,?Z).</span></p>
<p>Then we execute queries on the "p_plus" predicates and add the results to the "p" table of the EDB.</p>
<p class="p_Heading3"><span class="f_Heading3">RFS (Rebuild From Scratch)</span></p>
<p>This strategy works very simple: If a change occurs all materialized facts are thrown away. Then all rules are materialized again. This simple strategy works especially well if</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 5px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="26"><span style="font-size: 9pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td><span class="f_List">the initial materialization is very fast </span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 5px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="26"><span style="font-size: 9pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td><span class="f_List">changes do not occur very often </span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 5px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="26"><span style="font-size: 9pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td><span class="f_List">changes often affect many rules </span></td></tr></table></div><p>If you decided you want updatable materialization you have to find out which update strategy matches your needs. Currently we support two update strategies: triggered updates and immediate updates.</p>
<p>NOTE: Currently bulk change operations are not supported. </p>
<p class="p_Heading2"><span class="f_Heading2">Update strategies</span></p>
<p class="p_Heading3"><span class="f_Heading3">Immediately</span></p>
<p>This update strategy will execute the materialization as soon immediately after a fact or rule was added or removed.</p>
<p class="p_Heading3"><span class="f_Heading3">Triggered</span></p>
<p>This update strategy will execute the materialization only when the "<a href="materialization_commands.html">mat_executeMaterialization</a>" command was executed. A typical scenario is to update the materialization at some time where no one accesses the server (e.g. once a night).</p>
 
</div></div> 

<script type="text/javascript"> 
<!-- 
var lastSlashPos = document.URL.lastIndexOf("index.html") >
document.URL.lastIndexOf("\\") ? document.URL.lastIndexOf("index.html") :
document.URL.lastIndexOf("\\");
if( document.URL.substring( lastSlashPos + 1, lastSlashPos + 4).toLowerCase() != "~hh" )
{
    nsrInit();
}
--> 
</script> 
</body> 

<!-- Mirrored from help.semafora-systems.com/updatable_materialization.htm by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Oct 2019 09:09:12 GMT -->
</html>
